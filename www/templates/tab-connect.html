<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="DEVICES">
        <ion-nav-buttons side="primary">
             <button class="nav-bar-button button connection-status" ng-click="doSomething()">
                <ion-spinner ng-show="$parent.focusDevice.busy" class="jobInProg-spinner" icon="lines"></ion-spinner>
            </button>
    </ion-nav-buttons>
        <ion-nav-buttons side="secondary">
      <button class="nav-bar-button button connection-status" ng-click="doSomething()">
          {{$parent.connectionIndexes.length}} <i class="ion-link"></i>
      </button>
    </ion-nav-buttons>
  <ion-content class="padding">
        <ion-refresher
            pulling-icon="ion-ios-loop"
            spinner="ripple"
            on-refresh="refresh()">
        </ion-refresher>
        <div class="list device-list">
            <div ng-class="{'connected':device.connected}" ng-repeat="(key, device) in $parent.devices" class="item" ng-click="showDeviceOptions(key)">
                 <!--<p class="deviceStatus"><span ng-show="!device.connected">NOT </span> PAIRED
                     
                </p>-->
                     
                <h2>{{device.name}}<span class="statusIcon" ng-switch on="tryingToConnectToUUID === device.id">
                        <i ng-switch-default ng-class="device.connected? 'ion-link':'ion-plus'"></i>
                        <ion-spinner class="device-loading" ng-switch-when=true icon="ripple"></ion-spinner>
                     </span></h2>
                <span class="deviceInfo">
                    <p><b>UUID: </b>{{device.id}}</p>
                    <p><b>RSSI: </b>{{device.rssi}}</p>
                </span>
                
                <div class="jobbStatus">
                
                </div>
            </div>
        </div>
  </ion-content>
</ion-view>
